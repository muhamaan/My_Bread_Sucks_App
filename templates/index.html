<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>フランスパンのおいしさ判定アプリ</title>
    <link rel="stylesheet" href="./static/stylesheet.css">
</head>

<body>
    <div class="wrapper">

        <header>

            <a class="header-logo" href="#">フランスパンの出来栄えを確認しよう</a>
        </header>

        <div class="main">
            <h2> フランスパンの断面画像を送信してください</h2>
            <p>画像を送信してください</p>
            <form method="POST" enctype="multipart/form-data">
                <P><input class="file_choose" type="file" name="file" onchange="previewImage(this)"></P>
                <p><input id="submit_btn" class="submit_btn" value="画像を判定する!" type="submit" onclick="document.getElementById('answer_id').style.visibility='visible';" disabled ></p>
            </form>

            <p>
                <image id="preview" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                    style="max-width:200px; padding:30px">
            </p>

            <script>

                function previewImage(obj) {
                    var fileReader = new FileReader();
                    fileReader.onload = (function () {
                        document.getElementById('preview').src = fileReader.result;
                    });
                    fileReader.readAsDataURL(obj.files[0]);

                    // 画像が読み込まれたら、submit_btnを有効化する。
                    if(document.getElementById('submit_btn').disabled == true){
                        document.getElementById('submit_btn').disabled = false
                    }

                }
            </script>

            <!-- <div class="answer">{{answer}}</div> -->
            <div id="answer_id" class="answer" style="visibility: visible">{{answer}}</div>
        </div>

        <footer>
            <small>&copy; 2023 N.A</small>
        </footer>
    </div>
</body>

</html>